# 출입통제 시스템

## 시스템 구성

출입통제 시스템은 메인 게이트와 서브 게이트로 구성되어 다층적 보안을 제공합니다.

## 메인 게이트

### 인증 방식

#### 1. 모바일 사원증
- **QR 코드 인증**: 동적 QR 코드 생성 및 스캔
- **NFC 인증**: 스마트폰 NFC 태그
- **블루투스 인증**: 자동 근거리 인식

#### 2. 생체 인증
- **안면 인식**: AI 기반 실시간 얼굴 인식
- **지문 인식**: 고정밀 지문 스캐너
- **홍채 인식**: 보안 등급이 높은 구역용

#### 3. 모바일 인증
- **SMS OTP**: 일회용 비밀번호 발송
- **앱 푸시 인증**: 전용 앱 알림 승인
- **카카오톡 인증**: 카카오 인증서 연동

### 출입문 제어

#### 자동문 시스템
```yaml
자동문 사양:
  - 타입: 슬라이딩/스윙
  - 센서: 모션 감지, 안전 센서
  - 제어: 원격 개폐, 스케줄 설정
  - 비상: 수동 개방, 정전 시 자동 개방
```

#### 데드볼트 시스템
```yaml
데드볼트 사양:
  - 잠금: 전자식 데드볼트
  - 인증: 다중 인증 지원
  - 백업: 비상키, 마스터 카드
  - 모니터링: 실시간 상태 확인
```

## 서브 게이트

### 도어락 시스템

| 구분 | 사양 | 기능 |
|------|------|------|
| **디지털 도어락** | 비밀번호, 카드, 지문 | 다중 사용자 등록 |
| **스마트 도어락** | 앱 제어, 원격 개폐 | 임시 비밀번호 발급 |
| **연동형 도어락** | 중앙 시스템 연동 | 통합 관리, 로그 기록 |

### 설치 위치별 구성

- **회의실**: 예약 시스템 연동, 자동 잠금/해제
- **창고/자료실**: 권한별 접근 제어, 출입 기록
- **비상구**: 비상 시 자동 개방, 알람 연동

## 도어 센서

### 센서 종류 및 기능

#### 1. 문 열림/닫힘 센서
- **자석 센서**: 문틀과 문짝 분리 감지
- **적외선 센서**: 통과 감지 및 카운팅
- **압력 센서**: 문 닫힘 압력 측정

#### 2. 연동 기능

##### 냉/난방기 제어
```javascript
// 도어 센서와 냉난방기 연동 로직
if (doorSensor.status === 'OPEN') {
  // 문이 열린 경우
  if (doorOpenTime > 30) { // 30초 이상
    hvacSystem.pause(); // 냉난방 일시 정지
    notification.send('문이 열려있습니다');
  }
} else {
  // 문이 닫힌 경우
  hvacSystem.resume(); // 냉난방 재개
}
```

##### 에너지 절약 모드
- 문 열림 감지 시 자동으로 냉난방 일시 정지
- 설정 시간 이상 열려있을 경우 알림 발송
- 폐문 시 이전 설정으로 자동 복귀

### 상태 모니터링

#### 실시간 대시보드
```
┌─────────────────────────────────────┐
│         출입문 상태 모니터링          │
├─────────────────────────────────────┤
│ [정문]     🟢 닫힘  | 최종: 09:15   │
│ [회의실A]  🔴 열림  | 경과: 00:05   │
│ [창고]     🟢 닫힘  | 최종: 08:30   │
│ [비상구]   🟢 닫힘  | 최종: 어제    │
└─────────────────────────────────────┘
```

## 출입 관리 기능

### 권한 관리

#### 사용자 등급별 권한
| 등급 | 권한 | 출입 가능 구역 |
|------|------|--------------|
| **관리자** | 전체 권한 | 모든 구역 |
| **정직원** | 업무 시간 | 사무실, 회의실 |
| **방문객** | 임시 권한 | 지정 구역만 |
| **서비스** | 특정 시간 | 유지보수 구역 |

### 스케줄 관리

#### 시간대별 출입 제어
- **업무 시간**: 07:00 - 22:00 (일반 출입)
- **야간 시간**: 22:00 - 07:00 (제한 출입)
- **휴일/공휴일**: 사전 승인자만 출입

### 출입 기록

#### 로그 관리
```sql
-- 출입 기록 조회 예시
SELECT 
  timestamp,
  user_name,
  gate_type,
  auth_method,
  status
FROM access_log
WHERE date = '2024-01-15'
ORDER BY timestamp DESC;
```

## 비상 대응

### 비상 시나리오별 대응

1. **화재 경보**: 모든 출입문 자동 개방
2. **정전**: 비상 전원으로 전환, 수동 개방 가능
3. **침입 감지**: 모든 출입문 잠금, 경보 발령
4. **의료 응급**: 지정 출입문 원격 개방

### 백업 시스템

- **비상키**: 각 출입문별 물리적 키 보관
- **마스터 카드**: 관리자용 만능 카드
- **원격 제어**: 중앙 관제실 수동 제어

## 설정 및 관리

### 초기 설정
1. 출입문별 타입 및 제어 방식 설정
2. 사용자 등록 및 권한 할당
3. 운영 스케줄 설정
4. 비상 대응 시나리오 구성

### 유지보수
- **정기 점검**: 월 1회 작동 상태 점검
- **배터리 교체**: 분기별 배터리 상태 확인
- **펌웨어 업데이트**: 보안 패치 즉시 적용

::: warning 주의사항
- 비상구는 항상 내부에서 개방 가능해야 합니다
- 정기적인 비상 대피 훈련을 실시하세요
- 출입 기록은 최소 1년간 보관해야 합니다
:::